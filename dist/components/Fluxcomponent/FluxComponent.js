var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var FluxComponent = (function (_super) {
    __extends(FluxComponent, _super);
    function FluxComponent() {
        _super.apply(this, arguments);
        this.stores = [];
        this.actions = [];
    }
    FluxComponent.prototype.init = function () {
        var p_super = ho.promise.Promise.create(_super.prototype.init.call(this));
        var p_stores = this.initStores();
        var p_actions = this.initActions();
        var promises = [].concat(p_super, p_stores, p_actions);
        return ho.promise.Promise.all(promises);
    };
    FluxComponent.prototype.initStores = function () {
        var self = this;
        var promises = this.stores.map(function (sName) {
            return ho.flux.STORES.loadStore(sName)
                .then(function (s) {
                self.stores[sName] = s;
            });
        });
        return ho.promise.Promise.all(promises);
    };
    FluxComponent.prototype.initActions = function () {
        var self = this;
        var promises = this.actions.map(function (aName) {
            return ho.flux.ACTIONS.loadAction(aName)
                .then(function (a) {
                self.actions[aName] = a;
            });
        });
        return ho.promise.Promise.all(promises);
    };
    return FluxComponent;
})(ho.components.Component);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvRmx1eENvbXBvbmVudC9GbHV4Q29tcG9uZW50LnRzIl0sIm5hbWVzIjpbIkZsdXhDb21wb25lbnQiLCJGbHV4Q29tcG9uZW50LmNvbnN0cnVjdG9yIiwiRmx1eENvbXBvbmVudC5pbml0IiwiRmx1eENvbXBvbmVudC5pbml0U3RvcmVzIiwiRmx1eENvbXBvbmVudC5pbml0QWN0aW9ucyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7SUFBNEJBLGlDQUF1QkE7SUFBbkRBO1FBQTRCQyw4QkFBdUJBO1FBQzNDQSxXQUFNQSxHQUFrQkEsRUFBRUEsQ0FBQ0E7UUFDM0JBLFlBQU9BLEdBQWtCQSxFQUFFQSxDQUFDQTtJQXFDcENBLENBQUNBO0lBbkNBRCw0QkFBSUEsR0FBSkE7UUFDQ0UsSUFBSUEsT0FBT0EsR0FBR0EsRUFBRUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsZ0JBQUtBLENBQUNBLElBQUlBLFdBQUVBLENBQUNBLENBQUNBO1FBRXREQSxJQUFJQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQSxVQUFVQSxFQUFFQSxDQUFDQTtRQUVqQ0EsSUFBSUEsU0FBU0EsR0FBR0EsSUFBSUEsQ0FBQ0EsV0FBV0EsRUFBRUEsQ0FBQ0E7UUFFbkNBLElBQUlBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBLE1BQU1BLENBQUNBLE9BQU9BLEVBQUVBLFFBQVFBLEVBQUVBLFNBQVNBLENBQUNBLENBQUNBO1FBRXZEQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtJQUN6Q0EsQ0FBQ0E7SUFFU0Ysa0NBQVVBLEdBQXBCQTtRQUNDRyxJQUFJQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUNoQkEsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsVUFBQUEsS0FBS0E7WUFDbkNBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLFNBQVNBLENBQUNBLEtBQUtBLENBQUNBO2lCQUNyQ0EsSUFBSUEsQ0FBQ0EsVUFBQUEsQ0FBQ0E7Z0JBQ05BLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO1lBQ3hCQSxDQUFDQSxDQUFDQSxDQUFBQTtRQUNIQSxDQUFDQSxDQUFDQSxDQUFBQTtRQUVGQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtJQUN6Q0EsQ0FBQ0E7SUFFU0gsbUNBQVdBLEdBQXJCQTtRQUNDSSxJQUFJQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUNoQkEsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsVUFBQUEsS0FBS0E7WUFDcENBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLFVBQVVBLENBQUNBLEtBQUtBLENBQUNBO2lCQUN2Q0EsSUFBSUEsQ0FBQ0EsVUFBQUEsQ0FBQ0E7Z0JBQ05BLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO1lBQ3pCQSxDQUFDQSxDQUFDQSxDQUFBQTtRQUNIQSxDQUFDQSxDQUFDQSxDQUFBQTtRQUVGQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtJQUN6Q0EsQ0FBQ0E7SUFDRkosb0JBQUNBO0FBQURBLENBdkNBLEFBdUNDQSxFQXZDMkIsRUFBRSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBdUNsRCIsImZpbGUiOiJjb21wb25lbnRzL0ZsdXhDb21wb25lbnQvRmx1eENvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEZsdXhDb21wb25lbnQgZXh0ZW5kcyBoby5jb21wb25lbnRzLkNvbXBvbmVudCB7XHJcblx0cHVibGljIHN0b3JlczogQXJyYXk8c3RyaW5nPiA9IFtdO1xyXG5cdHB1YmxpYyBhY3Rpb25zOiBBcnJheTxzdHJpbmc+ID0gW107XHJcblxyXG5cdGluaXQoKSB7XHJcblx0XHRsZXQgcF9zdXBlciA9IGhvLnByb21pc2UuUHJvbWlzZS5jcmVhdGUoc3VwZXIuaW5pdCgpKTtcclxuXHJcblx0XHRsZXQgcF9zdG9yZXMgPSB0aGlzLmluaXRTdG9yZXMoKTtcclxuXHJcblx0XHRsZXQgcF9hY3Rpb25zID0gdGhpcy5pbml0QWN0aW9ucygpO1xyXG5cclxuXHRcdGxldCBwcm9taXNlcyA9IFtdLmNvbmNhdChwX3N1cGVyLCBwX3N0b3JlcywgcF9hY3Rpb25zKTtcclxuXHJcblx0XHRyZXR1cm4gaG8ucHJvbWlzZS5Qcm9taXNlLmFsbChwcm9taXNlcyk7XHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgaW5pdFN0b3JlcygpOiBoby5wcm9taXNlLlByb21pc2U8YW55LCBhbnk+IHtcclxuXHRcdGxldCBzZWxmID0gdGhpcztcclxuXHRcdGxldCBwcm9taXNlcyA9IHRoaXMuc3RvcmVzLm1hcChzTmFtZSA9PiB7XHJcblx0XHRcdHJldHVybiBoby5mbHV4LlNUT1JFUy5sb2FkU3RvcmUoc05hbWUpXHJcblx0XHRcdC50aGVuKHMgPT4ge1xyXG5cdFx0XHRcdHNlbGYuc3RvcmVzW3NOYW1lXSA9IHM7XHJcblx0XHRcdH0pXHJcblx0XHR9KVxyXG5cclxuXHRcdHJldHVybiBoby5wcm9taXNlLlByb21pc2UuYWxsKHByb21pc2VzKTtcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBpbml0QWN0aW9ucygpOiBoby5wcm9taXNlLlByb21pc2U8YW55LCBhbnk+IHtcclxuXHRcdGxldCBzZWxmID0gdGhpcztcclxuXHRcdGxldCBwcm9taXNlcyA9IHRoaXMuYWN0aW9ucy5tYXAoYU5hbWUgPT4ge1xyXG5cdFx0XHRyZXR1cm4gaG8uZmx1eC5BQ1RJT05TLmxvYWRBY3Rpb24oYU5hbWUpXHJcblx0XHRcdC50aGVuKGEgPT4ge1xyXG5cdFx0XHRcdHNlbGYuYWN0aW9uc1thTmFtZV0gPSBhO1xyXG5cdFx0XHR9KVxyXG5cdFx0fSlcclxuXHJcblx0XHRyZXR1cm4gaG8ucHJvbWlzZS5Qcm9taXNlLmFsbChwcm9taXNlcyk7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==